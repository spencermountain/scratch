<!DOCTYPE html>
<head>
  <style>
  .header {
    color:#66a8cc;
    border-bottom:2px solid rgba(102, 168, 204,0.4);
    display:inline;
    text-align:left;
    font-size:28px;
    margin-left:5rem;
  }
  .break{
    margin:3rem;
    margin-left:5rem;
  }
  svg{
    margin-left:5rem;
    display:block;
  }
  </style>
</head>
<body style="width:100vw; height:100vh; position:relative;">
  <p class="break">
    <div class="header">Temperature</div>
    <svg id="temperature" width="800" height="300" style="overflow: visible;"></svg>
  </p>
  <p class="break">
    <div class="header">Highway 401 Delays</div>
    <svg id="traffic" width="800" height="300" style="overflow: visible;"></svg>
  </p>


<svg width="960" height="500"></svg>
<script src="./lib/d3.js"></script>
<script src="./lib/d3-annotation.js"></script>
<script src="./lib/spacetime.js"></script>
<script src="./yeardata.js"></script>
<script src="./graph.js"></script>
<script src="./annotations.js"></script>
<script defer>
  const red='#cc668a'
    const tempNotes = [
      {
      note: {
        title: 'Hottest Day',
        label: 'Aug 28'
      },
      color: red,
      x: '2017-08-28',
      y: 32,
      dx: 0,
      dy: 50,
      subject: {
        radius: 10,
        radiusPadding: 10
      },
      type: d3.annotationCalloutCircle
    },
      {
      note: {
        title: 'Coldest Day',
        label: 'Jan 18'
      },
      color: red,
      x: '2017-01-17',
      y: -40,
      dx: 20,
      dy: -80,
      subject: {
        radius: 10,
        radiusPadding: 10
      },
      type: d3.annotationCalloutCircle
    },
  ];
  makeGraph(d3.select('#temperature'), yearData.temperature, 45, -45, tempNotes)

  const trafficNotes = [
    {
    note: {
      title: 'Trailer pileup',
      label: 'Jan 20'
    },
    color: red,
    x: '2017-01-20',
    y: 0.14,
    dx: 0,
    dy: -20,
    subject: {
      radius: 10,
      radiusPadding: 10
    },
    type: d3.annotationCalloutCircle
  },
    {
    note: {
      title: 'Christmas drop',
      label: 'Dec 23rd-29'
    },
    color: red,
    x: '2017-12-18',
    y: -0.15,
    dx: -46,
    dy: -80,
    subject: {
      width:31,
      height:18,
    },
    type: d3.annotationCalloutRect
  },
  {
    note: {
      title: 'Yoghurt Accident',
      label: 'June 22'
    },
    color: red,
    x: '2017-06-22',
    y: 0.28,
    dx: 5,
    dy: 25,
    subject: {
      radius: 10,
      radiusPadding: 10
    },
    type: d3.annotationCalloutCircle
  },
    {
    note: {
      title: 'March break',
      label: 'March 12-16'
    },
    color: red,
    x: '2017-03-13',
    y: -0.11,
    dx: 36,
    dy: -60,
    subject: {
      width:22,
      height:18,
    },
    type: d3.annotationCalloutRect
  },
]

console.log(yearData.traffic)
  makeGraph(d3.select('#traffic'), yearData.traffic, 0.45, -0.20, trafficNotes,'.0%')
</script>
</body>
